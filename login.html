<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DailyScope - Login</title>
<style>
  body{
    font-family:Arial;
    margin:0;
    background:#fff;
    display:flex;
    flex-direction:column;
    min-height:100vh;
  }
  header{
    background:#4CAF50;
    color:#fff;
    text-align:center;
    padding:10px;
  }
  header img{height:40px}

  main{
    flex:1;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    padding:20px;
  }

  .login{
    max-width:400px;
    width:100%;
    padding:20px;
    box-shadow:0 2px 5px rgba(0,0,0,.1);
    border-radius:8px;
  }
  h2{text-align:center;color:#333}
  label{display:block;margin:10px 0 5px}
  input{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}
  button{width:100%;padding:10px;background:#4CAF50;color:#fff;border:none;border-radius:4px;margin-top:10px}
  button:hover{background:#45a049}
  a{color:#4CAF50;text-decoration:none}
  a:hover{text-decoration:underline}
  .error{color:red;font-size:12px;display:none}

  footer{
    background:#4CAF50;
    color:#fff;
    text-align:center;
    padding:12px 0;
  }
  footer a{
    color:#fff;
    margin:0 10px;
    font-weight:bold;
    text-decoration:none;
  }
  footer a:hover{text-decoration:underline}
</style>
</head>
<body>

<header>
  <img src="asset/DailyScope.jpg" alt="DailyScope Logo">
</header>

<main>
  <div class="login">
    <h2>Login</h2>
    <form id="loginForm">
      <label>Email atau Nomor Telepon</label>
      <input id="email" type="text">
      <div id="emailErr" class="error">Email harus diisi!</div>

      <label>Kata Sandi</label>
      <input id="pass" type="password">
      <div id="passErr" class="error">Kata sandi salah atau kosong!</div>

      <div style="text-align:right"><a href="#">Lupa Kata Sandi?</a></div>
      <button type="submit">Masuk</button>
      <p style="font-size:12px;text-align:center;color:#777">Belum punya akun? <a href="register.html">Daftar sekarang</a></p>
    </form>
  </div>
</main>

<footer>
  <a href="index.html">Home</a> |
  <a href="login.html">Login</a> |
  <a href="register.html">Register</a> |
  <a href="dashboard.html">Dashboard</a> 
</footer>

<script>
document.getElementById("loginForm").addEventListener("submit", function(e){
  e.preventDefault();

  const email = document.getElementById("email").value.trim();
  const pass = document.getElementById("pass").value.trim();

  const emailErr = document.getElementById("emailErr");
  const passErr = document.getElementById("passErr");

  emailErr.style.display = passErr.style.display = "none";

  if(!email){emailErr.style.display="block";return;}
  if(!pass){passErr.style.display="block";return;}

  const users = JSON.parse(localStorage.getItem("users") || "[]");
  const found = users.find(u => u.email.toLowerCase() === email.toLowerCase() && u.password === pass);

  if(found){
    // Simpan data pengguna yang sedang login
    localStorage.setItem("loggedUser", JSON.stringify(found));

    alert("Login berhasil! Selamat datang di DailyScope ðŸŒ¿");
    // Arahkan ke halaman dashboard
    window.location.href = "dashboard.html";
  } else {
    passErr.textContent = "Email atau kata sandi salah!";
    passErr.style.display = "block";
  }
});
</script>

</body>
</html>